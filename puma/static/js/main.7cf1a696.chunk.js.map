{"version":3,"sources":["components/Navbar.js","components/Infobox.js","components/RouteInfo.js","components/WaypointList.js","components/Popup.js","components/Map.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","appbar","backgroundColor","title","textAlign","fontFamily","Navbar","classes","className","AppBar","position","Toolbar","Typography","variant","button","bottom","right","zIndex","AlertDialog","React","useState","open","setOpen","handleClose","Fab","color","aria-label","onClick","fontSize","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","alt","src","width","href","target","rel","DialogActions","Button","autoFocus","RouteInfo","props","distance","duration","header","margin","padding","list","btn","WaypointList","side","top","left","state","setState","toggleDrawer","event","type","key","Drawer","anchor","role","onKeyDown","Divider","List","waypoints","sort","a","b","index","map","item","ListItem","onMouseEnter","entered","onMouseLeave","leaved","clicked","location","ListItemIcon","ListItemText","primary","name","bullet","display","transform","pos","marginBottom","valueCell","wordBreak","Popup","lat","data","JSON","parse","lng","Card","card","CardContent","gutterBottom","fyldningsgrad","CardActions","IconButton","style","marginLeft","window","size","styles","height","Map","setMap","popup","setPopup","setWaypoints","routeInfo","setRouteInfo","mapContainer","useRef","useEffect","mapboxgl","accessToken","container","current","center","zoom","attributionControl","on","resize","addDrawControl","addControl","MapboxTraffic","e","remove","getCanvas","cursor","addPopup","features","properties","lngLat","initializeMap","draw","MapboxDraw","displayControlsDefault","controls","point","trash","updateRoute","points","getAll","feat","geometry","coordinates","length","url","join","axios","get","then","res","Math","round","trips","num","floor","waypoint_index","random","route","stops","getSource","removeLayer","removeSource","addSource","addLayer","deleteAll","setLayoutProperty","el","placeholder","document","createElement","ReactDOM","render","_popup","closeButton","setDOMContent","setLngLat","addTo","ref","feature","flyTo","App","Boolean","hostname","match","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7cf1a696.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n    },\n    appbar: {\n        backgroundColor: 'rgb(37, 167, 167)',\n        },\n    title: {\n        flexGrow: 1,\n        textAlign: 'center',\n        fontFamily: \"'Fredericka the Great', cursive\"\n    },\n}));\n\nexport default function Navbar() {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\" className={classes.appbar}>\n                <Toolbar>\n                    <Typography variant=\"h4\" className={classes.title}>\n                        TRIPPIN\n                    </Typography>\n                </Toolbar>\n            </AppBar>\n        </div>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Fab } from '@material-ui/core';\nimport InfoIcon from '@material-ui/icons/Info';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        position: \"fixed\",\n        bottom: 15,\n        right: 10,\n        zIndex: 100,\n        backgroundColor: 'rgb(37, 167, 167)'\n    }\n}));\n\nexport default function AlertDialog() {\n    const classes = useStyles();\n\n    const [open, setOpen] = React.useState(true);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <div>\n            <Fab className={classes.button} color=\"primary\" aria-label=\"add\" onClick={handleClickOpen}>\n                <InfoIcon fontSize='large' />\n            </Fab>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">{\"Velkommen\"}</DialogTitle>\n                <DialogContent>\n                        <p>Løsning til at vise ruteoptimering f.eks. ved tømning af affaldskurve.</p>\n                        <ul>\n                            <li>Tryk på <img alt=\"marker\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiICAgd2lkdGg9IjIwIiAgIGhlaWdodD0iMjAiICAgdmlld0JveD0iMCAwIDIwIDIwIiAgIGlkPSJzdmcxOTE2NyIgICB2ZXJzaW9uPSIxLjEiICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45MStkZXZlbCtvc3htZW51IHIxMjkxMSIgICBzb2RpcG9kaTpkb2NuYW1lPSJtYXJrZXIuc3ZnIj4gIDxkZWZzICAgICBpZD0iZGVmczE5MTY5IiAvPiAgPHNvZGlwb2RpOm5hbWVkdmlldyAgICAgaWQ9ImJhc2UiICAgICBwYWdlY29sb3I9IiNmZmZmZmYiICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIgICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIgICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIiAgICAgaW5rc2NhcGU6em9vbT0iMTYiICAgICBpbmtzY2FwZTpjeD0iMTQuMTY0MjUzIiAgICAgaW5rc2NhcGU6Y3k9IjguODg1NzIiICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiICAgICBzaG93Z3JpZD0iZmFsc2UiICAgICB1bml0cz0icHgiICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEyODAiICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI3NTEiICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMjA4IiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjE5MCIgICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiICAgICBpbmtzY2FwZTpvYmplY3Qtbm9kZXM9InRydWUiPiAgICA8aW5rc2NhcGU6Z3JpZCAgICAgICB0eXBlPSJ4eWdyaWQiICAgICAgIGlkPSJncmlkMTk3MTUiIC8+ICA8L3NvZGlwb2RpOm5hbWVkdmlldz4gIDxtZXRhZGF0YSAgICAgaWQ9Im1ldGFkYXRhMTkxNzIiPiAgICA8cmRmOlJERj4gICAgICA8Y2M6V29yayAgICAgICAgIHJkZjphYm91dD0iIj4gICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PiAgICAgICAgPGRjOnR5cGUgICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+ICAgICAgICA8ZGM6dGl0bGUgLz4gICAgICA8L2NjOldvcms+ICAgIDwvcmRmOlJERj4gIDwvbWV0YWRhdGE+ICA8ZyAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIiAgICAgaWQ9ImxheWVyMSIgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTEwMzIuMzYyMikiPiAgICA8cGF0aCAgICAgICBzdHlsZT0iY29sb3I6IzAwMDAwMDtjbGlwLXJ1bGU6bm9uemVybztkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjE7aXNvbGF0aW9uOmF1dG87bWl4LWJsZW5kLW1vZGU6bm9ybWFsO2NvbG9yLWludGVycG9sYXRpb246c1JHQjtjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM6bGluZWFyUkdCO3NvbGlkLWNvbG9yOiMwMDAwMDA7c29saWQtb3BhY2l0eToxO2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxO21hcmtlcjpub25lO2NvbG9yLXJlbmRlcmluZzphdXRvO2ltYWdlLXJlbmRlcmluZzphdXRvO3NoYXBlLXJlbmRlcmluZzphdXRvO3RleHQtcmVuZGVyaW5nOmF1dG87ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZSIgICAgICAgZD0ibSAzNiwxMDQwLjM2MjIgYyA2ZS02LDMuMzA5MyAtNS45ODg2MTIsMTAgLTUuOTg4NjEyLDEwIDAsMCAtNS45OTg3NzYsLTYuNjY4IC02LjAxMTM0NSwtOS45NzcyIC0wLjAxMjU3LC0zLjMwOTIgMi42NTY1NzYsLTYuMDAzOSA1Ljk2NTc5MiwtNi4wMjI3IDMuMzA5MTg5LC0wLjAxOSA2LjAwODg0LDIuNjQ1MiA2LjAzMzk5Miw1Ljk1NDMiICAgICAgIGlkPSJwYXRoMTI1NjEiICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2Nzc2MiIC8+ICAgIDxwYXRoICAgICAgIHN0eWxlPSJjb2xvcjojMDAwMDAwO2NsaXAtcnVsZTpub256ZXJvO2Rpc3BsYXk6aW5saW5lO292ZXJmbG93OnZpc2libGU7dmlzaWJpbGl0eTp2aXNpYmxlO29wYWNpdHk6MTtpc29sYXRpb246YXV0bzttaXgtYmxlbmQtbW9kZTpub3JtYWw7Y29sb3ItaW50ZXJwb2xhdGlvbjpzUkdCO2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVyczpsaW5lYXJSR0I7c29saWQtY29sb3I6IzAwMDAwMDtzb2xpZC1vcGFjaXR5OjE7ZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDowO3N0cm9rZS1vcGFjaXR5OjE7bWFya2VyOm5vbmU7Y29sb3ItcmVuZGVyaW5nOmF1dG87aW1hZ2UtcmVuZGVyaW5nOmF1dG87c2hhcGUtcmVuZGVyaW5nOmF1dG87dGV4dC1yZW5kZXJpbmc6YXV0bztlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIiAgICAgICBkPSJtIDM0LjAwMDExNSwxMDQwLjM2MjIgYyAtNWUtNiwyLjIwNjIgLTMuOTkyNTIzLDcuMDAwMSAtMy45OTI1MjMsNy4wMDAxIDAsMCAtMy45OTkyOTEsLTQuNzc4NyAtNC4wMDc2NzksLTYuOTg0OSAtMC4wMDg0LC0yLjIwNjIgMS43NzEwODIsLTQuMDAyNyAzLjk3NzMxLC00LjAxNTMgMi4yMDYyMSwtMC4wMTMgNC4wMDYwMzcsMS43NjM1IDQuMDIyNzc3LDMuOTY5NyIgICAgICAgaWQ9InBhdGgxMjU2MyIgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NzYyIgLz4gICAgPHBhdGggICAgICAgc3R5bGU9ImNvbG9yOiMwMDAwMDA7Y2xpcC1ydWxlOm5vbnplcm87ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eToxO2lzb2xhdGlvbjphdXRvO21peC1ibGVuZC1tb2RlOm5vcm1hbDtjb2xvci1pbnRlcnBvbGF0aW9uOnNSR0I7Y29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzOmxpbmVhclJHQjtzb2xpZC1jb2xvcjojMDAwMDAwO3NvbGlkLW9wYWNpdHk6MTtmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MTttYXJrZXI6bm9uZTtjb2xvci1yZW5kZXJpbmc6YXV0bztpbWFnZS1yZW5kZXJpbmc6YXV0bztzaGFwZS1yZW5kZXJpbmc6YXV0bzt0ZXh0LXJlbmRlcmluZzphdXRvO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiICAgICAgIGQ9Ik0gOS45NjY3OTY5LDEwMTQuMzYyMiBDIDYuNjU3NTgwOSwxMDE0LjM4MSAzLjk4NzQzLDEwMTcuMDc2NCA0LDEwMjAuMzg1NiBjIDAuMDEyNTY5LDMuMzA5MiA2LjAxMTcxOSw4Ljk3NjYgNi4wMTE3MTksOC45NzY2IDAsMCA1Ljk4ODI4NywtNS42OTA3IDUuOTg4MjgxLC05IGwgMCwtMC4wNDUgYyAtMC4wMjUxNSwtMy4zMDkxIC0yLjcyNDAxNCwtNS45NzQxIC02LjAzMzIwMzEsLTUuOTU1MSB6IG0gMC4wMDk3NywyIGMgMi4yMDYyMDYxLC0wLjAxMyA0LjAwNjY5MzEsMS43NjI2IDQuMDIzNDMzMSwzLjk2ODggbCAwLDAuMDMxIGMgLTVlLTYsMi4yMDYyIC0zLjk5MjE4OCw2IC0zLjk5MjE4OCw2IDAsMCAtMy45OTk0MjQsLTMuNzc4MiAtNC4wMDc4MTIsLTUuOTg0NCAtMC4wMDg0LC0yLjIwNjIgMS43NzAzMzQ1LC00LjAwMyAzLjk3NjU2MjUsLTQuMDE1NiB6IiAgICAgICBpZD0icGF0aDEyNTY4IiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNzY3NjY2Njc2NzYyIgLz4gICAgPHBhdGggICAgICAgc3R5bGU9Im9wYWNpdHk6MTtmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46YmV2ZWw7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eToxO21hcmtlcjpub25lIiAgICAgICBkPSJNIDEwIDIgQyA2LjY4NjI5MiAyIDQgNC42ODYzIDQgOCBDIDQgMTEuMzEzNyAxMCAxNyAxMCAxNyBDIDEwIDE3IDE2IDExLjMxMzcgMTYgOCBDIDE2IDQuNjg2MyAxMy4zMTM3MDggMiAxMCAyIHogTSAxMCA0IEMgMTIuMDcxMDY4IDQgMTMuNzUgNS42Nzg5IDEzLjc1IDcuNzUgQyAxMy43NSA5LjIwNTMyNzggMTEuOTMxMTEgMTEuNjQ0MzkzIDEwLjgzMDA3OCAxMyBMIDkuMTY5OTIxOSAxMyBDIDguMDY4ODkwMyAxMS42NDQzOTMgNi4yNSA5LjIwNTMyNzggNi4yNSA3Ljc1IEMgNi4yNSA1LjY3ODkgNy45Mjg5MzIgNCAxMCA0IHogIiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDEwMzIuMzYyMikiICAgICAgIGlkPSJwYXRoMTczMDUiIC8+ICA8L2c+PC9zdmc+\" /> og marker derefter et stop på kortet for at lave en rute.</li>\n                            <li>Gentag ovenstående for at udvide ruten</li>\n                            <li>Tryk på <img alt=\"trafic\" width=\"25px\" src=\"data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22%23333333%22%20preserveAspectRatio%3D%22xMidYMid%20meet%22%20viewBox%3D%22-2%20-2%2022%2022%22%3E%0D%0A%3Cpath%20d%3D%22M13%2C4.1L12%2C3H6L5%2C4.1l-2%2C9.8L4%2C15h10l1-1.1L13%2C4.1z%20M10%2C13H8v-3h2V13z%20M10%2C8H8V5h2V8z%22%2F%3E%0D%0A%3C%2Fsvg%3E\" /> for at få vist trafikken</li>\n                        </ul>\n                        <p>Ruten er sat til at starte og stoppe på Njalsgade og bruger <a href=\"http://project-osrm.org/\" target=\"_blank\" rel=\"noopener noreferrer\">OSRM</a> til at løse Travelling Salesman problemet med data fra Open Street Map.</p>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\" autoFocus>\n                        Ok\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}","import React from 'react'\n\nconst RouteInfo = (props) => {\n    return (\n        <div className='route-info'>\n            <table>\n                <tbody>\n                    <tr>\n                        <td>Længde</td>\n                        <td>{props.distance} km</td>\n                    </tr>\n                    <tr>\n                        <td>Tid</td>\n                        <td>{props.duration}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default RouteInfo\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport { Fab, Divider } from '@material-ui/core';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ListIcon from '@material-ui/icons/List';\n\nconst useStyles = makeStyles({\n    header: {\n        textAlign: 'center',\n        margin: 0,\n        padding: 17,\n        color: 'white',\n        backgroundColor: 'rgb(37, 167, 167)'\n    },\n    list: {\n        width: 250\n    },\n    btn: {\n        position: \"fixed\",\n        bottom: 85,\n        right: 10,\n        zIndex: 100,\n        backgroundColor: 'rgb(37, 167, 167)'\n    }\n});\n\nexport default function WaypointList(props) {\n    const classes = useStyles();\n    const [state, setState] = React.useState({\n        top: false,\n        left: false,\n        bottom: false,\n        right: false,\n    });\n\n    \n\n    const toggleDrawer = (side, open) => event => {\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n            return;\n        }\n\n        setState({ ...state, [side]: open });\n    };\n\n    const sideList = side => (\n        <div\n            className={classes.list}\n            role=\"presentation\"\n            onClick={toggleDrawer(side, false)}\n            onKeyDown={toggleDrawer(side, false)}\n        >\n            <h3 className={classes.header}>Stop på ruten</h3>\n            <Divider />\n            <List>\n                {props.waypoints.sort((a, b) => (a.index > b.index) ? 1 : -1).map(item => (\n                    <ListItem button key={item.index} onMouseEnter={() => props.entered(item)} onMouseLeave={() => props.leaved(item)} onClick={() => props.clicked(item.location)} >\n                        <ListItemIcon>\n                            <DeleteIcon />\n                        </ListItemIcon>\n                        <ListItemText primary={item.name ? `${item.index}. ${item.name}` : `${item.index}. Ukendt vejnavn`} />\n                    </ListItem>\n                ))}\n            </List>\n        </div>\n    );\n\n    return (\n        <div>\n            <Fab className={classes.btn} color=\"primary\" aria-label=\"add\" onClick={toggleDrawer('right', true)}>\n                <ListIcon fontSize='large' />\n            </Fab>\n\n            <Drawer anchor=\"right\" open={state.right} onClose={toggleDrawer('right', false)}>\n                {sideList('right')}\n            </Drawer>\n        </div>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport DirectionsIcon from '@material-ui/icons/Directions';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n        color: 'white'\n    },\n    // card: {\n    //     minWidth: 275,\n    // },\n    bullet: {\n        display: 'inline-block',\n        margin: '0 2px',\n        transform: 'scale(0.8)',\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n    valueCell: {\n        wordBreak: \"break-word\",\n        padding: '8px !important'\n    }\n}));\n\nexport default function Popup(props) {\n    const classes = useStyles();\n    \n    let location;\n    if (typeof props.data.location === \"string\") {\n        location = JSON.parse(props.data.location)\n    } else {\n        location = props.data.location\n    }\n\n    let lat = location[1]\n    let lng = location[0]\n\n    return (\n        <div className={classes.root}>\n            <Card className={classes.card} variant=\"outlined\">\n                <CardContent>\n                    <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\n                        {props.data.name ? props.data.name : 'Ukendt vejnavn'}\n                    </Typography>\n                    <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                        Fyldningsgrad: {props.data.fyldningsgrad}\n                    </Typography>\n                </CardContent>\n                <CardActions>\n                    <IconButton style={{marginLeft: 'auto'}} onClick={() => window.open(`http://maps.google.com?daddr=${lat},${lng}&amp;ll=`)} size=\"small\"><DirectionsIcon /></IconButton>\n                </CardActions>\n            </Card>\n        </div>\n    );\n}\n\nfunction navigate(lat, lng) {\n    // If it's an iPhone..\n    if ((navigator.platform.indexOf(\"iPhone\") !== -1) || (navigator.platform.indexOf(\"iPod\") !== -1)) {\n        function iOSversion() {\n            if (/iP(hone|od|ad)/.test(navigator.platform)) {\n                // supports iOS 2.0 and later\n                var v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n                return [parseInt(v[1], 10), parseInt(v[2], 10), parseInt(v[3] || 0, 10)];\n            }\n        }\n        var ver = iOSversion() || [0];\n\n        var protocol = 'http://';\n        if (ver[0] >= 6) {\n            protocol = 'maps://';\n        }\n        window.location = protocol + 'maps.apple.com/maps?daddr=' + lat + ',' + lng + '&amp;ll=';\n    }\n    else {\n        window.open('http://maps.google.com?daddr=' + lat + ',' + lng + '&amp;ll=');\n    }\n}","import React, { useEffect, useRef, useState } from \"react\";\nimport ReactDOM from 'react-dom'\nimport mapboxgl from \"mapbox-gl\";\nimport MapboxDraw from '@mapbox/mapbox-gl-draw'\nimport MapboxTraffic from '@mapbox/mapbox-gl-traffic'\nimport axios from 'axios'\nimport RouteInfo from './RouteInfo';\nimport WaypointList from './WaypointList'\nimport Popup from './Popup'\n\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css\"\nimport \"@mapbox/mapbox-gl-traffic/mapbox-gl-traffic.css\"\n\nconst styles = {\n    width: \"100vw\",\n    height: \"calc(100vh - 56px)\",\n    position: \"absolute\"\n};\n\nconst Map = () => {\n    const [map, setMap] = useState();\n    const [popup, setPopup] = useState();\n    const [waypoints, setWaypoints] = useState();\n    const [routeInfo, setRouteInfo] = useState();\n    const mapContainer = useRef(null);\n\n    useEffect(() => {\n        mapboxgl.accessToken = \"pk.eyJ1IjoiYmFmZmlvc28iLCJhIjoiY2s0eHNsbXRoMDQwODNtbzZydGtheWRzayJ9.HRBBcfhegW6-bvmCAfxtvg\";\n        const initializeMap = ({ setMap, mapContainer }) => {\n            const map = new mapboxgl.Map({\n                container: mapContainer.current,\n                style: \"mapbox://styles/mapbox/light-v10\", // stylesheet location\n                center: [12.52489, 55.68168],\n                zoom: 10,\n                attributionControl: false\n            });\n\n            map.on(\"load\", () => {\n                setMap(map);\n                map.resize();\n\n                addDrawControl(map)\n                map.addControl(new MapboxTraffic(), 'top-left');\n\n                map.on('click', 'waypoints', e => {\n                    if (popup) {\n                        popup.remove();\n                        setPopup(null)\n                    }\n                    setPopup(null)\n                    map.getCanvas().style.cursor = 'pointer';\n                    addPopup(map, <Popup data={e.features[0].properties} />, e.lngLat)\n                });\n\n\n                map.on('mouseenter', 'waypoints', e => {\n                    map.getCanvas().style.cursor = 'pointer';\n\n                    // if (pop) {\n                    //     pop.remove();\n                    //     setPopup(null)\n                    // }\n                    // setPopup(null)\n                    // pop = addPopup(map, <Popup data={e.features[0].properties} />, e.lngLat)\n                });\n\n                map.on('mouseleave', 'waypoints', () => {\n                    map.getCanvas().style.cursor = '';\n                });\n\n            });\n        };\n\n        if (!map) initializeMap({ setMap, mapContainer });\n    }, [map, popup]);\n\n    const addDrawControl = (map) => {\n        let draw = new MapboxDraw({\n            displayControlsDefault: false,\n            controls: {\n                point: true,\n                trash: true\n            }\n        });\n        map.addControl(draw, 'top-left');\n\n        // Get drawn features and add to state\n        const updateRoute = () => {\n            let geom = draw.getAll();\n            let points = geom.features.map(feat => feat.geometry.coordinates)\n            if (points.length > 0) {\n                let url = `http://165.22.200.0:5000/trip/v1/driving/12.578769,55.666729;${points.join(';')}?roundtrip=true&geometries=geojson&overview=full`\n                axios.get(url).then(res => {\n                    let distance = Math.round((res.data.trips[0].distance / 1000) * 10) / 10\n                    let num = res.data.trips[0].duration / 60\n                    let duration = `${Math.floor(num / 60)} h ${Math.round(num % 60)} min`\n\n                    // let duration = Math.round(res.data.trips[0].duration / 60)\n                    let properties = res.data.waypoints.map(item => {\n                        return {\n                            ...item, \n                            index: item.waypoint_index + 1, \n                            fyldningsgrad: Math.floor(Math.random() * (80 - 100 + 1)) + 80,\n                        }\n                    })\n                    setRouteInfo({ \"distance\": distance, \"duration\": duration })\n                    setWaypoints(properties)\n\n                    let route = res.data.trips[0].geometry\n                    let stops = properties.map((item) => {\n                        let feature = {\n                            'type': 'Feature',\n                            'geometry': {\n                                'type': 'Point',\n                                'coordinates': item.location\n                            },\n                            'properties': {\n                                ...item\n                            }\n                        }\n\n                        return feature\n                    })\n\n                    // Remove current overlay\n                    if (map.getSource('route') && map.getSource('waypoints')) {\n                        map.removeLayer('route')\n                        map.removeSource('route')\n                        map.removeLayer('waypoints')\n                        map.removeSource('waypoints')\n                    }\n\n                    map.addSource(\"route\", {\n                        \"type\": \"geojson\",\n                        \"data\": {\n                            'type': 'Feature',\n                            'properties': {},\n                            'geometry': route\n                        }\n                    });\n\n                    map.addSource(\"waypoints\", {\n                        \"type\": \"geojson\",\n                        \"data\": { type: \"FeatureCollection\", features: stops }\n                    });\n\n                    map.addLayer({\n                        'id': 'route',\n                        'type': 'line',\n                        'source': 'route',\n                        'layout': {\n                            'line-join': 'round',\n                            'line-cap': 'round'\n                        },\n                        'paint': {\n                            'line-color': 'rgb(22,200,200)',\n                            'line-width': 4\n                        }\n                    })\n\n                    map.addLayer({\n                        'id': 'waypoints',\n                        'type': 'symbol',\n                        'source': 'waypoints',\n                        'layout': {\n                            // get the icon name from the source's \"icon\" property\n                            // concatenate the name to get an icon from the style's sprite sheet\n                            'icon-image': 'beer-15',\n                            // get the title name from the source's \"title\" property\n                            'text-field': ['get', 'index'],\n                            'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold'],\n                            'text-offset': [0, 0.6],\n                            'text-anchor': 'top'\n                        }\n                    })\n                })\n            }\n        }\n\n        const deleteRoute = () => {\n            // Remove current overlay\n            if (map.getSource('route') && map.getSource('waypoints')) {\n                map.removeLayer('route')\n                map.removeSource('route')\n                map.removeLayer('waypoints')\n                map.removeSource('waypoints')\n            }\n\n            setRouteInfo(null)\n            setWaypoints(null)\n            \n            draw.deleteAll()\n            // deleteAll() doesn't clear inactive pouints - ugly hack\n            map.setLayoutProperty('gl-draw-point-inactive.cold', 'visibility', 'none');\n        }\n\n        map.on('draw.create', updateRoute);\n        map.on('draw.update', updateRoute);\n        map.on('draw.delete', deleteRoute);\n    }\n\n    const onMapClick = (map, event) => {\n        // get unique id from clicked feature\n        // let renderedFeatures = map.queryRenderedFeatures(event.point);\n        // let gid = renderedFeatures[0].properties.id;\n\n        // Higlight selected feature\n        // let features = this.map.querySourceFeatures('overlay', { filter: ['==', 'id', gid] });\n        // this._highlightFeature(features)\n        map.getCanvas().style.cursor = 'pointer';\n        // Add popup\n        addPopup(map, <Popup data={event.features[0].properties} />, event.lngLat)\n\n    }\n\n    const addPopup = (map, el, lngLat) => {\n        const placeholder = document.createElement('div');\n        ReactDOM.render(el, placeholder);\n\n        let _popup = new mapboxgl.Popup({ closeButton: true })\n            .setDOMContent(placeholder)\n            .setLngLat(lngLat)\n            .addTo(map);\n\n        setPopup(_popup)\n\n        return _popup\n    }\n\n    const waypointListItemClick = location => {\n        map.flyTo({\n            center: location,\n            zoom: 16\n        });\n    }\n\n    const waypointListItemEnter = feature => {\n        if (popup) {\n            popup.remove()\n            setPopup(null)\n        }\n\n        addPopup(map, <Popup data={feature} />, feature.location)\n        \n        map.flyTo({\n            center: feature.location,\n        });\n    }\n\n    const waypointListItemLeave = () => {\n        popup.remove()\n        setPopup(null)\n    }\n\n    return (\n        <div ref={el => (mapContainer.current = el)} style={styles} >\n            {routeInfo ? <RouteInfo distance={routeInfo.distance} duration={routeInfo.duration} /> : null}\n            {waypoints ? <WaypointList waypoints={waypoints} entered={waypointListItemEnter} leaved={waypointListItemLeave} clicked={waypointListItemClick} /> : null}\n        </div>\n    );\n};\n\nexport default Map;","import React from 'react';\nimport './App.css';\n\nimport Navbar from './components/Navbar'\nimport Infobox from './components/Infobox'\nimport Map from './components/Map'\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <Navbar />\n      <Infobox />\n      <Map />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}