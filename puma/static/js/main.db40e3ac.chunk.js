(this.webpackJsonppuma=this.webpackJsonppuma||[]).push([[0],{111:function(e,t,o){"use strict";o.r(t);var n=o(2),a=o.n(n),r=o(34),i=o.n(r),c=(o(43),o(44),o(37)),u=o(16),s=o.n(u),l=o(35),p=o.n(l),d=(o(93),o(94),o(36)),y=o.n(d),m={width:"100vw",height:"calc(100vh - 0px)",position:"absolute"},f=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),o=t[0],r=t[1],i=Object(n.useRef)(null);Object(n.useEffect)((function(){s.a.accessToken="pk.eyJ1IjoiYmFmZmlvc28iLCJhIjoiY2s0eHNsbXRoMDQwODNtbzZydGtheWRzayJ9.HRBBcfhegW6-bvmCAfxtvg";o||function(e){var t=e.setMap,o=e.mapContainer,n=new s.a.Map({container:o.current,style:"mapbox://styles/mapbox/light-v10",center:[12.52489,55.68168],zoom:10});n.on("load",(function(){t(n),n.resize(),u(n)}))}({setMap:r,mapContainer:i})}),[o]);var u=function(e){var t=new p.a({displayControlsDefault:!1,controls:{point:!0,trash:!0},style:{}});e.addControl(t,"top-left");var o=function(){var o=t.getAll().features.map((function(e){return e.geometry.coordinates}));if(o.length>1){var n="http://165.22.200.0:5000/trip/v1/driving/12.578769,55.666729;".concat(o.join(";"),"?roundtrip=true&geometries=geojson&overview=full");y.a.get(n).then((function(t){var o=t.data.trips[0].geometry,n=t.data.waypoints.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:e.location},properties:{id:e.waypoint_index+1}}}));e.getSource("route")&&e.getSource("waypoints")&&(e.removeLayer("route"),e.removeSource("route"),e.removeLayer("waypoints"),e.removeSource("waypoints")),e.addSource("route",{type:"geojson",data:{type:"Feature",properties:{},geometry:o}}),e.addSource("waypoints",{type:"geojson",data:{type:"FeatureCollection",features:n}}),e.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"rgb(22,200,200)","line-width":4}}),e.addLayer({id:"waypoints",type:"symbol",source:"waypoints",layout:{"icon-image":"harbor-15","text-field":["get","id"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,.6],"text-anchor":"top"}})}))}};e.on("draw.create",o),e.on("draw.update",o),e.on("draw.delete",o)};return a.a.createElement("div",{ref:function(e){return i.current=e},style:m})},v=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},38:function(e,t,o){e.exports=o(111)},43:function(e,t,o){},44:function(e,t,o){}},[[38,1,2]]]);
//# sourceMappingURL=main.db40e3ac.chunk.js.map