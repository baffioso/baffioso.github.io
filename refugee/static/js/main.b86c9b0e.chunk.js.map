{"version":3,"sources":["vendor/mapboxgl-minimap.js","components/Legend.js","components/Chapter.js","components/ToogleMapInteractivity.js","App.js","serviceWorker.js","config.js","index.js"],"names":["defaultOptions","id","width","height","style","center","zoom","zoomAdjust","zoomLevels","lineColor","lineWidth","lineOpacity","fillColor","fillOpacity","dragPan","scrollZoom","boxZoom","dragRotate","keyboard","doubleClickZoom","touchZoomRotate","Minimap","_options","this","options","Object","assign","_ticking","_lastMouseMoveEvent","_parentMap","_isDragging","_isCursorOverFeature","_previousPoint","_currentPoint","_trackingRectCoordinates","parentMap","opts","container","_container","_createContainer","miniMap","_miniMap","mapboxgl","Map","attributionControl","maxBounds","setMaxBounds","on","_load","bind","forEach","i","disable","_zoomAdjust","bounds","getBounds","_convertBoundsToPoints","addSource","addLayer","_trackingRect","getSource","_update","_mouseMove","_mouseDown","_mouseUp","_miniMapCanvas","getCanvasContainer","addEventListener","_preventDefault","e","lngLat","lng","lat","features","queryRenderedFeatures","point","layers","length","cursor","offset","newBounds","_moveTrackingRect","fitBounds","duration","noMoveStart","source","data","_data","properties","_ne","_sw","setData","ne","sw","trc","parentBounds","_setTrackingRectBounds","miniZoom","parseInt","getZoom","parentZoom","levels","found","setZoom","setCenter","getCenter","document","createElement","className","setAttribute","getContainer","appendChild","preventDefault","signatureStyle","borderRadius","line","polygon","Legend","props","layout","Signatures","map","l","key","text","geomType","backgroundColor","color","title","Chapter","theme","image","flourish","embed","description","header","body","link","currentChapterID","legend","interactiveMap","classList","flourishFullScreen","fullScreen","flourishStyling","interactive","active","zIndex","opacity","flourishStyle","src","alt","frameBorder","href","url","target","rel","ToogleMapInteractivity","onClick","clicked","Tooltip","isActive","placement","IconButton","aria-label","fontSize","alignments","App","toogleMapInteractivity","setState","state","currentChapter","chapters","device","isMobile","phone","config","mapStart","location","accessToken","mapContainer","pitch","bearing","marker","Marker","showMarkers","setLngLat","addTo","scroller","scrollama","showMiniMap","addControl","setup","step","progress","onStepEnter","response","chapter","find","chap","element","flyTo","onChapterEnter","addLayers","layer","layerOpt","firstSymbolId","getStyle","type","getLayer","setLayoutProperty","addOverlay","onStepExit","layerIds","onChapterExit","removeLayers","layerId","window","resize","ref","el","subtitle","byline","alignment","footer","Component","Boolean","hostname","match","desktop","speed","mobile","MapboxLayer","ArcLayer","pickable","getHeight","getWidth","d","Math","sqrt","value","getSourcePosition","origin_long","origin_lat","getTargetPosition","target_long","target_lat","getSourceColor","getTargetColor","onHover","object","x","y","showTooltip","getElementById","innerHTML","origin","display","left","top","padding","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b86c9b0e.chunk.js","sourcesContent":["// Taken from https://github.com/brendanmatkin/mapboxgl-minimap inspired by https://github.com/aesqe/mapboxgl-minimap\nimport mapboxgl from 'mapbox-gl';\n\nlet defaultOptions = {\n\tid: \"mapboxgl-minimap\",\n\twidth: \"250px\",\n\theight: \"180px\",\n\tstyle: \"mapbox://styles/mapbox/streets-v10\",\n\tcenter: [0, 0],\n\tzoom: 6,\n\n\t// should be a function; will be bound to Minimap\n\tzoomAdjust: null,\n\n\t// if parent map zoom >= 18 and minimap zoom >= 14, set minimap zoom to 16\n\tzoomLevels: [\n\t\t[18, 14, 16],\n\t\t[16, 12, 14],\n\t\t[14, 10, 12],\n\t\t[12, 8, 10],\n\t\t[10, 6, 8]\n\t],\n\n\tlineColor: \"rgb(255, 50, 0)\",\n\tlineWidth: 2,\n\tlineOpacity: 1,\n\n\tfillColor: \"#F80\",\n\tfillOpacity: 0,\n\n\tdragPan: false,\n\tscrollZoom: false,\n\tboxZoom: false,\n\tdragRotate: false,\n\tkeyboard: false,\n\tdoubleClickZoom: false,\n\ttouchZoomRotate: false\n};\n\n//class Minimap extends mapboxgl.NavigationControl {\nclass Minimap {\n\tconstructor(_options){\n\t\t// super();\n\t\tthis.options = defaultOptions;\n\t\tObject.assign(this.options, _options);\n\t\t\n\t\tthis._ticking = false;\n\t\tthis._lastMouseMoveEvent = null;\n\t\tthis._parentMap = null;\n\t\tthis._isDragging = false;\n\t\tthis._isCursorOverFeature = false;\n\t\tthis._previousPoint = [0, 0];\n\t\tthis._currentPoint = [0, 0];\n\t\tthis._trackingRectCoordinates = [[[], [], [], [], []]];\n\t}\n\n\tonAdd ( parentMap )\n\t{\n\t\tthis._parentMap = parentMap;\n\n\t\tvar opts = this.options;\n\t\tvar container = this._container = this._createContainer(parentMap);\n\t\tvar miniMap = this._miniMap = new mapboxgl.Map({\n\t\t\tattributionControl: false,\n\t\t\tcontainer: container,\n\t\t\tstyle: opts.style,\n\t\t\tzoom: opts.zoom,\n            center: opts.center, \n\t\t});\n\n\t\tif (opts.maxBounds) miniMap.setMaxBounds(opts.maxBounds);\n\n\t\tminiMap.on(\"load\", this._load.bind(this));\n\n\t\treturn this._container;\n\t}\n\n\t_load ()\n\t{\n\t\tvar opts = this.options;\n\t\tvar parentMap = this._parentMap;\n\t\tvar miniMap = this._miniMap;\n\t\tvar interactions = [\n\t\t\t\"dragPan\", \"scrollZoom\", \"boxZoom\", \"dragRotate\",\n\t\t\t\"keyboard\", \"doubleClickZoom\", \"touchZoomRotate\"\n\t\t];\n\n\t\tinteractions.forEach(function(i){\n\t\t\tif( opts[i] !== true ) {\n\t\t\t\tminiMap[i].disable();\n\t\t\t}\n\t\t});\n\n\t\tif( typeof opts.zoomAdjust === \"function\" ) {\n\t\t\tthis.options.zoomAdjust = opts.zoomAdjust.bind(this);\n\t\t} else if( opts.zoomAdjust === null ) {\n\t\t\tthis.options.zoomAdjust = this._zoomAdjust.bind(this);\n\t\t}\n\n\t\tvar bounds = miniMap.getBounds();\n\n\t\tthis._convertBoundsToPoints(bounds);\n\n\t\tminiMap.addSource(\"trackingRect\", {\n\t\t\t\"type\": \"geojson\",\n\t\t\t\"data\": {\n\t\t\t\t\"type\": \"Feature\",\n\t\t\t\t\"properties\": {\n\t\t\t\t\t\"name\": \"trackingRect\"\n\t\t\t\t},\n\t\t\t\t\"geometry\": {\n\t\t\t\t\t\"type\": \"Polygon\",\n\t\t\t\t\t\"coordinates\": this._trackingRectCoordinates\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tminiMap.addLayer({\n\t\t\t\"id\": \"trackingRectOutline\",\n\t\t\t\"type\": \"line\",\n\t\t\t\"source\": \"trackingRect\",\n\t\t\t\"layout\": {},\n\t\t\t\"paint\": {\n\t\t\t\t\"line-color\": opts.lineColor,\n\t\t\t\t\"line-width\": opts.lineWidth,\n\t\t\t\t\"line-opacity\": opts.lineOpacity\n\t\t\t}\n\t\t});\n\n\t\t// needed for dragging\n\t\tminiMap.addLayer({\n\t\t\t\"id\": \"trackingRectFill\",\n\t\t\t\"type\": \"fill\",\n\t\t\t\"source\": \"trackingRect\",\n\t\t\t\"layout\": {},\n\t\t\t\"paint\": {\n\t\t\t\t\"fill-color\": opts.fillColor,\n\t\t\t\t\"fill-opacity\": opts.fillOpacity\n\t\t\t}\n\t\t});\n\n\t\tthis._trackingRect = this._miniMap.getSource(\"trackingRect\");\n\n\t\tthis._update();\n\n\t\tparentMap.on(\"move\", this._update.bind(this));\n\n\t\tminiMap.on(\"mousemove\", this._mouseMove.bind(this));\n\t\tminiMap.on(\"mousedown\", this._mouseDown.bind(this));\n\t\tminiMap.on(\"mouseup\", this._mouseUp.bind(this));\n\n\t\tminiMap.on(\"touchmove\", this._mouseMove.bind(this));\n\t\tminiMap.on(\"touchstart\", this._mouseDown.bind(this));\n\t\tminiMap.on(\"touchend\", this._mouseUp.bind(this));\n\n\t\tthis._miniMapCanvas = miniMap.getCanvasContainer();\n\t\tthis._miniMapCanvas.addEventListener(\"wheel\", this._preventDefault);\n\t\tthis._miniMapCanvas.addEventListener(\"mousewheel\", this._preventDefault);\n\t}\n\n\t_mouseDown( e )\n\t{\n\t\tif( this._isCursorOverFeature )\n\t\t{\n\t\t\tthis._isDragging = true;\n\t\t\tthis._previousPoint = this._currentPoint;\n\t\t\tthis._currentPoint = [e.lngLat.lng, e.lngLat.lat];\n\t\t}\n\t}\n\n\t_mouseMove (e)\n\t{\n\t\tthis._ticking = false;\n\n\t\tvar miniMap = this._miniMap;\n\t\tvar features = miniMap.queryRenderedFeatures(e.point, {\n\t\t\tlayers: [\"trackingRectFill\"]\n\t\t});\n\n\t\t// don't update if we're still hovering the area\n\t\tif( ! (this._isCursorOverFeature && features.length > 0) )\n\t\t{\n\t\t\tthis._isCursorOverFeature = features.length > 0;\n\t\t\tthis._miniMapCanvas.style.cursor = this._isCursorOverFeature ? \"move\" : \"\";\n\t\t}\n\n\t\tif( this._isDragging )\n\t\t{\n\t\t\tthis._previousPoint = this._currentPoint;\n\t\t\tthis._currentPoint = [e.lngLat.lng, e.lngLat.lat];\n\n\t\t\tvar offset = [\n\t\t\t\tthis._previousPoint[0] - this._currentPoint[0],\n\t\t\t\tthis._previousPoint[1] - this._currentPoint[1]\n\t\t\t];\n\n\t\t\tvar newBounds = this._moveTrackingRect(offset);\n\n\t\t\tthis._parentMap.fitBounds(newBounds, {\n\t\t\t\tduration: 80,\n\t\t\t\tnoMoveStart: true\n\t\t\t});\n\t\t}\n\t}\n\n\t_mouseUp()\n\t{\n\t\tthis._isDragging = false;\n\t\tthis._ticking = false;\n\t}\n\n\t_moveTrackingRect( offset )\n\t{\n\t\tvar source = this._trackingRect;\n\t\tvar data = source._data;\n\t\tvar bounds = data.properties.bounds;\n\n\t\tbounds._ne.lat -= offset[1];\n\t\tbounds._ne.lng -= offset[0];\n\t\tbounds._sw.lat -= offset[1];\n\t\tbounds._sw.lng -= offset[0];\n\n\t\tthis._convertBoundsToPoints(bounds);\n\t\tsource.setData(data);\n\n\t\treturn bounds;\n\t}\n\n\t_setTrackingRectBounds( bounds )\n\t{\n\t\tvar source = this._trackingRect;\n\t\tvar data = source._data;\n\n\t\tdata.properties.bounds = bounds;\n\t\tthis._convertBoundsToPoints(bounds);\n\t\tsource.setData(data);\n\t}\n\n\t_convertBoundsToPoints( bounds )\n\t{\n\t\tvar ne = bounds._ne;\n\t\tvar sw = bounds._sw;\n\t\tvar trc = this._trackingRectCoordinates;\n\n\t\ttrc[0][0][0] = ne.lng;\n\t\ttrc[0][0][1] = ne.lat;\n\t\ttrc[0][1][0] = sw.lng;\n\t\ttrc[0][1][1] = ne.lat;\n\t\ttrc[0][2][0] = sw.lng;\n\t\ttrc[0][2][1] = sw.lat;\n\t\ttrc[0][3][0] = ne.lng;\n\t\ttrc[0][3][1] = sw.lat;\n\t\ttrc[0][4][0] = ne.lng;\n\t\ttrc[0][4][1] = ne.lat;\n\t}\n\n\t_update()\n\t{\n\t\tif( this._isDragging  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar parentBounds = this._parentMap.getBounds();\n\n\t\tthis._setTrackingRectBounds(parentBounds);\n\n\t\tif( typeof this.options.zoomAdjust === \"function\" ) {\n\t\t\tthis.options.zoomAdjust();\n\t\t}\n\t}\n\n\t_zoomAdjust()\n\t{\t\n\t\tvar miniMap = this._miniMap;\n\t\tvar parentMap = this._parentMap;\n\t\tvar miniZoom = parseInt(miniMap.getZoom(), 10);\n\t\tvar parentZoom = parseInt(parentMap.getZoom(), 10);\n\t\tvar levels = this.options.zoomLevels;\n\t\tvar found = false;\n\n\t\tlevels.forEach(function(zoom)\n\t\t{\n\t\t\tif( ! found && parentZoom >= zoom[0] )\n\t\t\t{\n\t\t\t\tif( miniZoom >= zoom[1] ) {\n\t\t\t\t\tminiMap.setZoom(zoom[2]);\n\t\t\t\t}\n\n\t\t\t\tminiMap.setCenter(parentMap.getCenter());\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t});\n\n\t\tif( ! found && miniZoom !== this.options.zoom )\n\t\t{\n\t\t\tif( typeof this.options.bounds === \"object\" ) {\n\t\t\t\tminiMap.fitBounds(this.options.bounds, {duration: 50});\n\t\t\t}\n\n\t\t\tminiMap.setZoom(this.options.zoom)\n\t\t}\n\t}\n\n\t_createContainer ( parentMap )\n\t{\n\t\tvar opts = this.options;\n\t\tvar container = document.createElement(\"div\");\n\n\t\tcontainer.className = \"mapboxgl-ctrl-minimap mapboxgl-ctrl\";\n\t\tcontainer.setAttribute('style', 'width: ' + opts.width + '; height: ' + opts.height + ';');\n\t\tcontainer.addEventListener(\"contextmenu\", this._preventDefault);\n\n\t\tparentMap.getContainer().appendChild(container);\n\n\t\tif( opts.id !== \"\" ) {\n\t\t\tcontainer.id = opts.id;\n\t\t}\n\n\t\treturn container;\n\t}\n\n\t_preventDefault( e ) {\n\t\te.preventDefault();\n\t}\n}\n\nexport default Minimap;","import React from 'react'\n\nconst signatureStyle = {\n    point: { width: 10, height: 10, borderRadius: '50%' },\n    line: { width: 20, height: 3 },\n    polygon: { width: 20, height: 20 }\n}\n\nconst signature = (layout) => {\n    return (\n        <table>\n            <tbody>\n                {layout.map(l => (\n                    <tr key={l.text}>\n                        <td>\n                            <div\n                                className=\"legend-signature\"\n                                style={{ ...signatureStyle[l.geomType], backgroundColor: l.color }}\n                            />\n                        </td>\n                        <td>\n                            <span>{l.text}</span>\n                        </td>\n                    </tr>\n                ))}\n            </tbody>\n        </table>\n    )\n}\n\nexport const Legend = (props) => {\n    let Signatures = signature(props.layout)\n\n    return (\n        <div className=\"legend\">\n            <h3>{props.title}</h3>\n            {Signatures}\n        </div>\n    )\n}","import React from 'react';\nimport { Legend } from './Legend'\n\nconst flourishStyle = (interactive, active, flourishFullScreen) => {\n    if (interactive && active && flourishFullScreen) {\n        return {zIndex: \"11 !important\", opacity: 1}\n    } else if (!active) {\n        return {opacity: 0}\n    } else if (interactive && !active && flourishFullScreen) {\n        return {opacity: 0}\n    }\n}\n\nexport const Chapter = ({ id, theme, title, image, flourish, embed, description, header, body, link, currentChapterID, legend, interactiveMap }) => {\n    const classList = id === currentChapterID ? \"step active\" : \"step\";\n    const flourishFullScreen = flourish && flourish.fullScreen ? true : false\n    const active = id === currentChapterID\n\n    const flourishStyling = flourishStyle(interactiveMap, active, flourishFullScreen)\n\n    return (\n        <div id={id} className={classList}>\n            <div className={theme}>\n                {title &&\n                    <h2 className=\"title\">{title}</h2>\n                }\n                {image &&\n                    <img src={image} alt={title}></img>\n                }\n                {description &&\n                    <p>{description}</p>\n                }\n                {header &&\n                    <h3>{header}</h3>\n                }\n                {body &&\n                    <p>{body}</p>\n                }\n                {/* {flourish &&\n                    <div \n                        style={flourishStyling}\n                        // style={flourishFullScreen && (id === currentChapterID) ? { opacity: 1 } : { opacity: 0 }} \n                        className={flourishFullScreen ? \"flourish-embed full-screen\" : \"flourish-embed feature\"} \n                        data-src={`visualisation/${flourish.id}`}\n                    />\n                } */}\n                {flourish &&\n                    <div className=\"flourish-container\">\n                        <iframe \n                            src={`https://public.flourish.studio/visualisation/${flourish.id}/embed?auto=1`} \n                            style={flourishStyling}\n                            title={id} \n                            className={flourishFullScreen ? \"flourish-embed full-screen\" : \"flourish-embed feature\"} \n                            frameBorder=\"0\"\n                        />\n                    </div>\n                }\n                {embed &&\n                    <iframe src={embed} title={id} className=\"embed\" width=\"100%\" height=\"400\" frameBorder=\"0\" />\n                }\n                {link &&\n                    <a href={link.url} target='_blank' rel=\"noopener noreferrer\">{link.title}</a>\n                }\n                {legend &&\n                    <Legend title={legend.title} layout={legend.layout} />\n                }\n            </div>\n        </div>\n    )\n}","import React from 'react'\nimport ExploreOffIcon from '@material-ui/icons/ExploreOff';\nimport ExploreIcon from '@material-ui/icons/Explore';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nexport const ToogleMapInteractivity = (props) => {\n    return (\n        <div className=\"map-interactive\" onClick={props.clicked}>\n            <Tooltip title={props.isActive ? 'Disable interactive map' : 'Enable interactive map'} placement=\"left\">\n                <IconButton aria-label=\"delete\">\n                    {props.isActive ? <ExploreOffIcon fontSize=\"large\" /> : <ExploreIcon fontSize=\"large\" />}\n                </IconButton>\n            </Tooltip>\n        </div>\n    )\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport mapboxgl from 'mapbox-gl';\nimport scrollama from 'scrollama';\nimport isMobile from 'ismobilejs'\nimport Minimap from './vendor/mapboxgl-minimap'\n\nimport { Chapter } from './components/Chapter'\nimport { ToogleMapInteractivity } from './components/ToogleMapInteractivity'\n\nconst alignments = {\n    'left': 'lefty',\n    'center': 'centered',\n    'right': 'righty'\n}\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentChapter: props.chapters[0],\n            device: isMobile().phone ? 'mobile' : 'desktop',\n            interactiveMap: false        \n        };\n    }\n\n    componentDidMount() {\n        const config = this.props;\n        const device = this.state.device\n        const mapStart = config.chapters[0].location[device];\n\n        mapboxgl.accessToken = config.accessToken;\n\n        const map = new mapboxgl.Map({\n            container: this.mapContainer,\n            style: config.style,\n            center: mapStart.center,\n            zoom: mapStart.zoom,\n            pitch: mapStart.pitch,\n            bearing: mapStart.bearing,\n            attributionControl: false,\n            //interactive: false\n        });\n\n        const marker = new mapboxgl.Marker();\n        if (config.showMarkers) {\n            marker.setLngLat(mapStart[device].center).addTo(map);\n        }\n\n        const addOverlay = (layerOpt) => {\n            //console.log(map.getSource('layerOpt.layer.ids '))\n\n            let layers = map.getStyle().layers;\n            // Find the index of the first symbol layer in the map style\n            let firstSymbolId;\n            for (var i = 0; i < layers.length; i++) {\n                if (layers[i].type === 'symbol') {\n                    firstSymbolId = layers[i].id;\n                    break;\n                }\n            }\n            // check if source is available in config and is not prev added\n            if (layerOpt.source && !map.getSource(layerOpt.layer.id)) {\n                map.addSource(layerOpt.layer.id, layerOpt.source)\n            }\n\n            if (map.getLayer(layerOpt.layer.id)) {\n                map.setLayoutProperty(layerOpt.layer.id, 'visibility', 'visible')\n            } else {\n                map.addLayer(layerOpt.layer, firstSymbolId);\n            }\n        }\n\n        const setState = this.setState.bind(this);\n        // instantiate the scrollama\n        const scroller = scrollama();\n\n        map.on('load', () => {\n\n            // add minimap\n            if (config.showMiniMap) {\n                map.addControl(new Minimap(config.miniMap), \"bottom-right\");\n            }\n\n\n            // setup the instance, pass callback functions\n            scroller\n            .setup({\n                step: '.step',\n                offset: 0.9,\n                progress: true\n            })\n            .onStepEnter(response => {\n                const chapter = config.chapters.find(chap => chap.id === response.element.id);\n                setState({ currentChapter: chapter });\n\n                map.flyTo(chapter.location[device]);\n                if (config.showMarkers) {\n                    marker.setLngLat(chapter.location[device].center);\n                }\n                const layers = chapter.onChapterEnter.addLayers\n                if (layers && layers.length > 0) {\n                    layers.forEach(layer => {\n                        addOverlay(layer)\n                    });\n                }\n            })\n            .onStepExit(response => {\n                const chapter = config.chapters.find(chap => chap.id === response.element.id);\n                const layerIds = chapter.onChapterExit.removeLayers\n                if (layerIds && layerIds.length > 0) {\n                    layerIds.forEach(layerId => {\n                        //map.removeLayer(layerId);\n                        map.setLayoutProperty(layerId, 'visibility', 'none')\n                    });\n                }\n            });\n        });\n\n        window.addEventListener('resize', scroller.resize);\n    }\n\n    toogleMapInteractivity = () => {\n        this.setState({ interactiveMap: !this.state.interactiveMap })\n    }\n\n    render() {\n        const config = this.props;\n        const theme = config.theme;\n        const currentChapterID = this.state.currentChapter.id;\n\n        return (\n            <div>\n                <div \n                    ref={el => this.mapContainer = el} \n                    className=\"absolute top right left bottom\" \n                    id='map' \n                    // toogle interaztive map by chaning z-value\n                    style={this.state.interactiveMap ? {zIndex: 10}: {zIndex: -5} }\n                />\n                <ToogleMapInteractivity\n                    clicked={this.toogleMapInteractivity}\n                    isActive={this.state.interactiveMap}\n                />\n                <div id=\"tooltip\" />\n                <div id=\"story\" style={this.state.interactiveMap ? {opacity: 0, zIndex: -5} : {opacity:1, zIndex: 10}}>\n                    {config.title &&\n                        <div id=\"header\" className={theme}>\n                            <h1>{config.title}</h1>\n                            {config.subtitle &&\n                                <h2>{config.subtitle}</h2>\n                            }\n                            {config.byline &&\n                                <p>{config.byline}</p>\n                            }\n                        </div>\n                    }\n\n                    <div id=\"features\" className={alignments[config.alignment]}>\n                        {\n                            config.chapters.map(chapter => \n                                <Chapter key={chapter.id} theme={theme} {...chapter} currentChapterID={currentChapterID} interactiveMap={this.state.interactiveMap}/>\n                            )\n                        }\n                    </div>\n\n                    {config.footer &&\n                        <div id=\"footer\" className={theme}>\n                            <p>{config.footer}</p>\n                        </div>\n                    }\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { ArcLayer } from '@deck.gl/layers';\nimport { MapboxLayer } from '@deck.gl/mapbox';\n\nvar config = {\n    //style: 'mapbox://styles/mapbox/streets-v10',\n    style: 'mapbox://styles/baffioso/ck2s2efkx13u11cs349t1kitn',\n    accessToken: 'pk.eyJ1IjoiYmFmZmlvc28iLCJhIjoiT1JTS1lIMCJ9.f5ubY91Bi42yPnTrgiq-Gw',\n    showMiniMap: false,\n    miniMap: {\n        // minimap options: https://github.com/aesqe/mapboxgl-minimap/blob/master/README.md\n        center: [-6.60370, 20.48104],\n        zoom: 0,\n        style: \"mapbox://styles/baffioso/ck2s2efkx13u11cs349t1kitn\",\n        lineColor: \"rgb(255, 50, 90)\",\n        // if parent map zoom >= 18 and minimap zoom >= 14, set minimap zoom to 16\n        // zoomLevels: [\n        //     [14, 9, 11]\n        // ]\n    },\n    showMarkers: false,\n    theme: 'light',\n    alignment: 'left',\n    title: 'REFUGEES',\n    subtitle: '',\n    byline: '',\n    footer: 'Bye Bye',\n    chapters: [\n        {\n            id: 'syria',\n            title: 'Refugees of the Syrian Civil War',\n            description: \"The unrest in Syria, part of a wider wave of the 2011 Arab Spring protests, grew out of discontent with the Syrian government and escalated to an armed conflict after protests calling for Assad's removal were violently suppressed. The conflict has caused a major refugee crisis causing a massive flee to countries around the world. The chart below shows where Syrian refugees where given asylum. (Press play button to se the development over time)\",\n            location: {\n                desktop: {\n                    center: [34.49802, 34.55465],\n                    zoom: 5.22,\n                    pitch: 0.00,\n                    bearing: 0.00,\n                    speed: 0.5\n                },\n                mobile: {\n                    center: [38.58316, 34.45603],\n                    zoom: 5.0,\n                    pitch: 3.00,\n                    bearing: -1.15,\n                    speed: 0.5\n                }\n            },\n            onChapterEnter: {\n                addLayers: [\n                    {\n                        layer: {\n                            'id': 'syria',\n                            'type': 'line',\n                            source: {\n                                type: 'vector',\n                                url: 'mapbox://baffioso.countries'\n                            },\n                            'source-layer': 'countries',\n                            \"filter\": [\"match\", [\"get\", \"ADMIN\"], [\"Syria\"], true, false],\n                            \"layout\": {},\n                            \"paint\": {\n                                \"line-color\": \"rgb(255, 0, 0)\",\n                                \"line-width\": 2\n                            }\n                        }\n                    }\n                ]\n            },\n            onChapterExit: {\n                removeLayers: [\n                ]\n            }\n        },\n        {\n            id: 'refugee-arc',\n            title: 'Refugees of the Syrian Civil War',\n            description: \"The unrest in Syria, part of a wider wave of the 2011 Arab Spring protests, grew out of discontent with the Syrian government and escalated to an armed conflict after protests calling for Assad's removal were violently suppressed. The conflict has caused a major refugee crisis causing a massive flee to countries around the world. The chart below shows where Syrian refugees where given asylum. (Press play button to se the development over time)\",\n            flourish: {id:1104402, fullScreen: false},\n            location: {\n                desktop: {\n                    center: [4.39089, 34.63819],\n                    zoom: 2.84,\n                    pitch: 47.50,\n                    bearing: -16.00,\n                    speed: 0.5\n                },\n                mobile: {\n                    center: [22.32586, 44.24128],\n                    zoom: 2.,\n                    pitch: 41.00,\n                    bearing: -38.75,\n                    speed: 0.5\n                }\n            },\n            onChapterEnter: {\n                addLayers: [\n                    {\n                        source: {\n                            type: 'vector',\n                            url: 'mapbox://baffioso.refugee'\n                        },\n                        layer: {\n                            'id': 'syria',\n                            'type': 'line',\n                            'source-layer': 'syria',\n                            \"filter\": [\n                                \"all\",\n                                [\n                                    \"match\",\n                                    [\"get\", \"ADMIN\"],\n                                    [\"Syria\"],\n                                    true,\n                                    false\n                                ]\n                            ],\n                            \"layout\": {},\n                            \"paint\": {\n                                \"line-color\": \"rgb(255, 0, 0)\",\n                                \"line-width\": 2\n                            }\n                        }\n                    },\n                    {\n                        layer: new MapboxLayer({\n                            id: 'refugee-arc',\n                            type: ArcLayer,\n                            data: \"https://baffioso.github.io/data/syria.json\",\n                            pickable: true,\n                            getHeight: 0.4,\n                            getWidth: d => Math.sqrt(Math.sqrt(d.value)),\n                            getSourcePosition: d => [d.origin_long, d.origin_lat],\n                            getTargetPosition: d => [d.target_long, d.target_lat],\n                            getSourceColor: [25, 156, 255],\n                            getTargetColor: [168, 229, 255],\n                            onHover: ({ object, x, y }) => {\n                                showTooltip(object, x, y);\n                            }\n                        })\n                    },\n                ]\n            },\n            onChapterExit: {\n                removeLayers: [\n                    'refugee-arc'\n                ]\n            }\n        },\n        {\n            id: 'refugee-neighbour-arc',\n            title: 'Refugees in the neighbouring countries',\n            description: \"Around 5,6 million has crossed into other countries, with most seeking asylum or placed in Syrian refugee camps established in the neighbouring countries\",\n            flourish: {\n                id: 1136770,\n                fullScreen: false\n            },\n            location: {\n                desktop: {\n                    center: [31.82261, 30.08982],\n                    zoom: 5.01,\n                    pitch: 47.50,\n                    bearing: -12.80,\n                    speed: 0.5\n                },\n                mobile: {\n                    center: [36.38683, 38.47146],\n                    zoom: 3.7,\n                    pitch: 45.50,\n                    bearing: 0.00,\n                    speed: 0.5\n                }\n            },\n            onChapterEnter: {\n                addLayers: [\n                    {\n                        source: {\n                            type: 'vector',\n                            url: 'mapbox://baffioso.refugee'\n                        },\n                        layer: {\n                            'id': 'syria',\n                            'type': 'line',\n                            'source-layer': 'syria',\n                            \"filter\": [\n                                \"all\",\n                                [\n                                    \"match\",\n                                    [\"get\", \"ADMIN\"],\n                                    [\"Syria\"],\n                                    true,\n                                    false\n                                ]\n                            ],\n                            \"layout\": {},\n                            \"paint\": {\n                                \"line-color\": \"rgb(255, 0, 0)\",\n                                \"line-width\": 2\n                            }\n                        }\n                    },\n                    {\n                        layer: new MapboxLayer({\n                            id: 'refugee-neighbour-arc',\n                            type: ArcLayer,\n                            data: \"https://baffioso.github.io/data/syria_neighbour.json\",\n                            pickable: true,\n                            getHeight: 0.4,\n                            getWidth: d => Math.sqrt(Math.sqrt(d.value)),\n                            getSourcePosition: d => [d.origin_long, d.origin_lat],\n                            getTargetPosition: d => [d.target_long, d.target_lat],\n                            getSourceColor: [25, 156, 255],\n                            getTargetColor: [168, 229, 255],\n                            onHover: ({ object, x, y }) => {\n                                showTooltip(object, x, y);\n                            }\n                        })\n                    },\n                ]\n            },\n            onChapterExit: {\n                removeLayers: [\n                    'refugee-neighbour-arc'\n                ]\n            }\n        },\n        {\n            id: 'europe',\n            title: 'Asylum in Europe',\n            description: 'By May 2011, thousands of people had already fled the country and the first refugee camps opened in Turkey. In March 2012, the UNHCR decided to appoint a Regional Refugee Coordinator for Syrian Refugeesrecognising the growing concerns surrounding the crisis. Just a year later, in March 2013, the number of Syrian refugees reached 1,000,000. By December 2017, UNHCR counted 1,000,000 asylum applications for Syrian refugees in the European Union. As of March 2018, UNHCR has counted nearly 5.6 million registered Syrian refugees worldwide. The greatest number of refugees fleeing to Europe originate from Syria.',\n            legend: {\n                title: 'Number og asylum seekers',\n                layout: [\n                    {\n                        color: \"hsl(195, 88%, 86%)\",\n                        geomType: \"polygon\",\n                        text: \"> 1000\"\n                    },\n                    {\n                        color: \"hsl(195, 88%, 67%)\",\n                        geomType: \"polygon\",\n                        text: \"> 10000\"\n                    },\n                    {\n                        color: \"hsl(195, 88%, 46%)\",\n                        geomType: \"polygon\",\n                        text: \"> 100000\"\n                    },\n                ]\n            },\n            location: {\n                desktop: {\n                    center: [0.27873, 47.64381],\n                    zoom: 3.0,\n                    pitch: 0.00,\n                    bearing: 0.00,\n                    speed: 0.5\n                },\n                mobile: {\n                    center: [6.51434, 48.89563],\n                    zoom: 3.0,\n                    pitch: 0.00,\n                    bearing: 0.00,\n                    speed: 0.5\n                }\n            },\n            onChapterEnter: {\n                addLayers: [\n                    {\n                        layer: {\n                            \"id\": \"europe\",\n                            \"type\": \"fill-extrusion\",\n                            source: {\n                                type: 'vector',\n                                url: 'mapbox://baffioso.96il3e8d'\n                            },\n                            \"source-layer\": \"countries_poly_refugee-871n5z\",\n                            \"minzoom\": 2,\n                            \"layout\": {},\n                            \"paint\": {\n                                \"fill-extrusion-color\": [\n                                    \"interpolate\",\n                                    [\"linear\"],\n                                    [\"get\", \"value\"],\n                                    1000,\n                                    \"hsl(195, 88%, 86%)\",\n                                    10000,\n                                    \"hsl(195, 88%, 67%)\",\n                                    100000,\n                                    \"hsl(195, 88%, 46%)\"\n                                ],\n                                \"fill-extrusion-height\": [\"/\", [\"get\", \"value\"], 4],\n                                \"fill-extrusion-vertical-gradient\": [\n                                    \"step\",\n                                    [\"zoom\"],\n                                    true,\n                                    22,\n                                    true\n                                ]\n                            }\n                        }\n                    },\n\n                ]\n            },\n            onChapterExit: {\n                removeLayers: [\n                    \"europe\"\n                ]\n            }\n        },\n        {\n            id: 'flourish-full',\n            title: 'Closer look',\n            description: 'By May 2011, thousands of people had already fled the country and the first refugee camps opened in Turkey. In March 2012, the UNHCR decided to appoint a Regional Refugee Coordinator for Syrian Refugeesrecognising the growing concerns surrounding the crisis. Just a year later, in March 2013, the number of Syrian refugees reached 1,000,000. By December 2017, UNHCR counted 1,000,000 asylum applications for Syrian refugees in the European Union. As of March 2018, UNHCR has counted nearly 5.6 million registered Syrian refugees worldwide. The greatest number of refugees fleeing to Europe originate from Syria.',\n            flourish: {\n                id: 1131761,\n                fullScreen: true\n            },\n            location: {\n                desktop: {\n                    center: [0.27873, 47.64381],\n                    zoom: 3.0,\n                    pitch: 0.00,\n                    bearing: 0.00,\n                    speed: 0.5\n                },\n                mobile: {\n                    center: [6.51434, 48.89563],\n                    zoom: 3.0,\n                    pitch: 0.00,\n                    bearing: 0.00,\n                    speed: 0.5\n                }\n            },\n            onChapterEnter: {\n            },\n            onChapterExit: {\n            }\n        },\n        // {\n        //     id: 'langelandsplads-pladsen',\n        //     title: 'Pladsen',\n        //     description: 'Langelands Plads er et imdekommende byrum hvor der er indtnkt aktiviteter for forskellige mlgrupper, s som legelandskab, soppebassin med fontner, begrnnet boldbur og hyggekroge med bnke afskrmet af grnne beplantninger. Det har vre kommunens nske at skabe en grn plads, s de store gamle trer er bevarede, nye er plantet og parkeringsklderens trappetrne er begrnnede.',\n        //     body: 'Nedenfor kan du navigere rundt i 360 graders billeder der er taget p pladsen',\n        //     embed: 'https://embed-v1.mapillary.com/embed?version=1&filter=%5B%22all%22%5D&map_filter=%5B%22all%22%5D&map_style=Mapillary streets&image_key=ouOHFmQFSYjrFVBv2y58Ey&x=0.7809937816617221&y=0.5499079366553911&client_id=RC1HNHpEZldibmNLZ0JJOU1lMUlRdzpkNWZhZDc5Y2NkZGZlZjcz&style=photo',\n        //     location: {\n        //         desktop: {\n        //             center: [12.52956, 55.68490],\n        //             zoom: 18.82,\n        //             pitch: 38.00,\n        //             bearing: -66.29,\n        //             speed: 0.3\n        //         },\n        //         mobile: {\n        //             center: [12.52956, 55.68490],\n        //             zoom: 18.82,\n        //             pitch: 38.00,\n        //             bearing: -66.29,\n        //             speed: 0.3\n        //         }\n        //     },\n        //     onChapterEnter: {\n        //     },\n        //     onChapterExit: {\n        //         removeLayers: [\n        //             '3d-buildings'\n        //         ]\n        //     }\n        // },\n        // {\n        //     id: 'bulowsvej',\n        //     title: 'Blowsvej',\n        //     image: 'https://www.frederiksberg.dk/sites/default/files/2018-05/Visualisering_Bulowsvej.jpg',\n        //     description: 'Formlet med skybrudsprojektet er, at forsinke regnvandet i omrdet, s der p den mde opns en get kapacitet i den eksisterende kloak. Derved mindskes risikoen for oversvmmelse af kldere i omrdet ved skybrud.',\n        //     link: {\n        //         url: 'https://www.frederiksberg.dk/skybrudsprojekter',\n        //         title: 'Se mere'\n        //     },\n        //     location: {\n        //         desktop: {\n        //             center: [12.54257, 55.68305],\n        //             zoom: 16.33,\n        //             pitch: 60.00,\n        //             bearing: 18.44,\n        //             speed: 0.4\n        //         },\n        //         mobile: {\n        //             center: [12.54257, 55.68305],\n        //             zoom: 16.33,\n        //             pitch: 60.00,\n        //             bearing: 18.44,\n        //             speed: 0.4\n        //         }\n        //     },\n        //     onChapterEnter: {\n        //         addLayers: [\n        //             {\n        //                 source: {\n        //                     type: 'geojson',\n        //                     data: 'https://api.frb-data.dk/v1/data/anlaegsprojekter_fk?srid=4326',\n        //                 },\n        //                 layer: {\n        //                     id: 'klimaprojekter',\n        //                     type: 'line',\n        //                     source: 'klimaprojekter',\n        //                     layout: {},\n        //                     paint: {\n        //                         'line-width': 3,\n        //                         'line-color': \"#03bafc\"\n        //                     },\n        //                     filter: [\"==\", \"type\", 'Klimaveje']\n        //                 }\n        //             }\n        //         ]\n        //     },\n        //     onChapterExit: {\n        //         removeLayers: ['klimaprojekter']\n        //     }\n        // },\n        // {\n        //     id: 'bulowsvej-anlaeg',\n        //     title: 'Anlgsprojektet',\n        //     description: 'Vejen bestr i dag af et forholdsvist bredt fortov p hver side, krebaner og en parallelvej. P krebanen er der markeret med cykelbane i stlig side. Den eksisterende krebane vest p Blowsvej, hvor den nuvrende parkering foregr bliver sljfet, for at give plads til det grnne element samt regnvandshndteringen. P kortet ses plantegninger for anlgsprojektet',\n        //     header: 'Trerne',\n        //     body: 'De eksisterende hestekastanjetrer  langs vejen, har det ikke godt. En stor del er get ud. Mange af trerne er s store at de har bredt sig ud over fortovet, s en del fortovsfliser er fjernet. Det foresls, at der p den vestlige side af Blowsvej vil blive etableret et regnbed parallelt med krebanen, hvis hovedforml er at hndtere regnvandet. Bedet vil ogs danne et fint grnt rum for fodgngere p det vestlige fortov. Langs vejen sttes der en trrkke, som giver vejen et roligt forlb, samtidig med at den relativt brede vej fr nogle bedre proportioner. Der plantes 39 nye trer, hvilket sledes tilfjer 20 trer p vej strkningen i forhold til den nuvrende lsning.',\n        //     embed: 'https://embed-v1.mapillary.com/embed?version=1&filter=%5B%22all%22,%5B%22==%22,%22pano%22,true%5D%5D&map_filter=%5B%22all%22,%5B%22==%22,%22pano%22,1%5D%5D&map_style=Mapillary streets&image_key=uFNnhDnKCBbxuwoAhynRJh&x=0.17293700907259635&y=0.4492663521580331&client_id=RFNxSnZXV2F3blVkUW9BOElfaExfUTplODU1YzM4MGUxNmExZjA5&style=photo',\n        //     location: {\n        //         desktop: {\n        //             center: [12.54479, 55.68223],\n        //             zoom: 19.59,\n        //             pitch: 0.50,\n        //             bearing: -65.55,\n        //             speed: 0.6\n        //         },\n        //         mobile: {\n        //             center: [12.54479, 55.68223],\n        //             zoom: 19.59,\n        //             pitch: 0.50,\n        //             bearing: -65.55,\n        //             speed: 0.6\n        //         }\n        //     },\n        //     onChapterEnter: {\n        //         addLayers: [\n        //             {\n        //                 source: {\n        //                     type: 'raster',\n        //                     tiles: ['https://th.frb-data.dk/klimaprojekt_bulowsvej4/{z}/{x}/{y}.png'],\n        //                     tileSize: 256\n        //                 },\n        //                 layer: {\n        //                     id: 'bulow',\n        //                     type: 'raster',\n        //                     source: 'bulow',\n        //                     paint: {\n        //                         'raster-opacity': 0.8\n        //                     }\n        //                 }\n        //             }\n        //         ]\n        //     },\n        //     onChapterExit: {\n        //         removeLayers: ['bulow']\n        //     }\n        // },\n        // {\n        //     id: 'mariendalsvej',\n        //     title: 'Mariendalsvej',\n        //     image: '/media/mariendalsvej.jpg',\n        //     description: 'Formlet med projektet er at forsinke regnvandet i omrdet, s der p den mde opns en get kapacitet i den eksisterende kloak. Derved mindskes risikoen for oversvmmelse af kldre i omrdet ved skybrud. Derudover vil der i projektet etableres et nyt fortov, vejbane, nye trer og fire ekstra parkeringspladser. Den eksisterende trbeplantning har lidt under byggeriet p matr. 12gs (Det tidligere Stjernen) og vurderes derfor ikke lngere bevaringsvrdig pga. sundhedstilstanden. Trbeplantningen fremstr i drlig stand og vurderes til alligevel at skulle skiftes ud inden for f r. Der var oprindeligt syv vejtrer p strkningen - heraf er fire tilbage. De tilbagevrende fire trer foresls fldet, og der plantes i alt 12 nye trer p strkningen. De 12 nye trer vil blive plantet, s plantehullet placeres sammen med vejkassen, der indeholder regnvand. Derved vil de f forbedrede vkstbetingelser i forhold til et traditionelt vejtr.',\n        //     location: {\n        //         desktop: {\n        //             center: [12.53840, 55.68764],\n        //             zoom: 17.00,\n        //             pitch: 46.00,\n        //             bearing: -64.69,\n        //             speed: 0.4\n        //         },\n        //         mobile: {\n        //             center: [12.53840, 55.68764],\n        //             zoom: 17.00,\n        //             pitch: 46.00,\n        //             bearing: -64.69,\n        //             speed: 0.4\n        //         }\n        //     },\n        //     onChapterEnter: {\n        //         addLayers: [\n        //             {\n        //                 source: {\n        //                     type: 'geojson',\n        //                     data: 'https://api.frb-data.dk/v1/data/anlaegsprojekter_fk?srid=4326',\n        //                 },\n        //                 layer: {\n        //                     id: 'klimaprojekter',\n        //                     type: 'line',\n        //                     source: 'klimaprojekter',\n        //                     layout: {},\n        //                     paint: {\n        //                         'line-width': 3,\n        //                         'line-color': \"#03bafc\"\n        //                     },\n        //                     filter: [\"==\", \"type\", 'Klimaveje']\n        //                 }\n        //             },\n        //             {\n        //                 source: {\n        //                     \"type\": \"vector\",\n        //                     \"tiles\": [\"https://tegola.frb-data.dk/maps/Affald og genbrug/Glas/{z}/{x}/{y}.pbf\"],\n        //                     \"minzoom\": 0,\n        //                     \"maxzoom\": 22\n        //                 },\n        //                 layer: {\n        //                     id: \"glas\",\n        //                     type: \"circle\",\n        //                     source: 'glas',\n        //                     \"source-layer\": \"Glas\",\n        //                     layout: {},\n        //                     paint: {\n        //                         \"circle-color\": \"rgb(53, 175, 109)\",\n        //                         \"circle-radius\": 6\n        //                     }\n        //                 }\n        //             }\n        //         ]\n        //     },\n        //     onChapterExit: {\n        //         removeLayers: ['klimaprojekter', 'glas']\n        //     }\n        // },\n        // {\n        //     id: 'mariendalsvej-sensor',\n        //     title: 'Sensorer mler vanstanden',\n        //     description: 'Der er installeret mlere som kan mle vandstanden i magasinerne under vejen',\n        //     embed: 'https://grafana.frb-data.dk/d-solo/uWm4wrAiz/projekt?orgId=1&theme=dark&panelId=2',\n        //     location: {\n        //         desktop: {\n        //             center: [12.53705, 55.68901],\n        //             zoom: 17.80,\n        //             pitch: 5.50,\n        //             bearing: 0.00,\n        //             speed: 0.4\n        //         },\n        //         mobile: {\n        //             center: [12.538054, 55.688965],\n        //             zoom: 17.80,\n        //             pitch: 5.50,\n        //             bearing: 0.00,\n        //             speed: 0.4\n        //         }\n        //     },\n        //     onChapterEnter: {\n        //         addLayers: [\n        //             {\n        //                 source: {\n        //                     type: 'geojson',\n        //                     data: {\n        //                         \"type\": \"Feature\",\n        //                         \"geometry\": {\n        //                             \"type\": \"Point\",\n        //                             \"coordinates\": [12.538054, 55.688965]\n        //                         },\n        //                     },\n        //                 },\n        //                 layer: {\n        //                     id: \"sensor\",\n        //                     type: \"circle\",\n        //                     source: 'sensor',\n        //                     layout: {},\n        //                     paint: {\n        //                         \"circle-color\": \"rgb(253, 0, 109)\",\n        //                         \"circle-radius\": 10\n        //                     },\n        //                     minzoom: 16\n        //                 }\n        //             }\n        //         ]\n        //     },\n        //     onChapterExit: {\n        //         removeLayers: ['sensor']\n        //     }\n        // }\n\n    ]\n};\n\nconst showTooltip = (object, x, y) => {\n    const el = document.getElementById('tooltip');\n    if (object) {\n        el.innerHTML = `Origin: ${object.origin} </br> Target: ${object.target} </br> Persons: ${object.value}`;\n        el.style.display = 'block';\n        el.style.left = x + 'px';\n        el.style.top = y + 'px';\n        el.style.padding = '10px';\n\n    } else {\n        el.style.display = 'none';\n    }\n\n    return el\n}\n\nexport default config;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport config from './config.js';\n\n\n\nReactDOM.render(<App {...config}/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}